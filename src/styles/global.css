/*
 * Editorial Minimalism Typography System
 * - Newsreader: English headings (editorial character)
 * - Noto Serif TC: Chinese headings (elegant, cultural)
 * - Satoshi: English body (warmer, approachable)
 * - Noto Sans TC: Chinese body (clean, modern)
 * - JetBrains Mono: Code blocks
 *
 * Fonts are loaded via <link> in BaseLayout.astro for better performance
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-cream-100 text-ink-900 font-sans antialiased;
    font-feature-settings: 'liga' 1;
  }

  /* Editorial serif headings - distinctive character */
  h1, h2, h3, h4, h5, h6 {
    @apply font-serif font-semibold;
    letter-spacing: -0.02em;
  }

  h1 {
    @apply text-3xl md:text-4xl lg:text-5xl leading-tight;
  }

  h2 {
    @apply text-2xl md:text-3xl leading-snug;
  }

  h3 {
    @apply text-xl md:text-2xl;
  }

  h4 {
    @apply text-lg md:text-xl;
  }

  /* Links use teal - complementary to amber accent */
  a {
    @apply transition-colors duration-200;
  }

  /* Selection color matches brand */
  ::selection {
    @apply bg-accent-light text-ink-900;
  }
}

@layer components {
  .container-narrow {
    @apply max-w-4xl mx-auto px-4 sm:px-6;
  }

  .container-wide {
    @apply max-w-6xl mx-auto px-4 sm:px-6;
  }

  .container-prose {
    @apply max-w-3xl mx-auto px-4 sm:px-6;
  }

  /* Primary button - warm amber accent */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-lg font-medium transition-all duration-200;
  }

  .btn-primary {
    @apply btn bg-accent text-white hover:bg-accent-hover shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply btn bg-cream-300 text-ink-800 hover:bg-cream-400;
  }

  .btn-outline {
    @apply btn border-2 border-accent text-accent hover:bg-accent hover:text-white;
  }

  /* Links use teal color */
  .link {
    @apply text-link font-medium hover:text-link-hover hover:underline;
  }

  /* Card with subtle warmth */
  .card {
    @apply bg-white rounded-xl p-6 shadow-sm border border-cream-200;
    @apply transition-shadow duration-200 hover:shadow-md;
  }

  /* Editorial quote style */
  .pullquote {
    @apply font-serif text-xl md:text-2xl text-ink-700 border-l-4 border-accent pl-6 py-2 my-8;
  }

  /* Figure with caption - centered */
  figure {
    @apply my-6;
  }

  figure img {
    @apply w-full rounded-lg;
  }

  figcaption {
    @apply text-center text-sm text-ink-600 mt-2 italic;
  }

  /* Figure floating left - for inline layout */
  figure.float-left {
    float: left;
    margin-right: 1.5rem;
    margin-bottom: 1rem;
    margin-top: 0.25rem;
    width: 12rem;
  }

  @media (min-width: 640px) {
    figure.float-left {
      width: 14rem;
    }
  }

  @media (min-width: 768px) {
    figure.float-left {
      width: 16rem;
    }
  }

  figure.float-left img {
    @apply w-full;
  }

  figure.float-left figcaption {
    text-align: left;
    font-size: 0.75rem;
  }

  /* List items next to float should align properly */
  figure.float-left + p + ul,
  figure.float-left + p + ol,
  figure.float-left + p + p + ul,
  figure.float-left + p + p + ol {
    list-style-position: inside;
  }

  /* Clear float after section */
  .clear-float {
    clear: both;
  }

  /* Section divider */
  .divider {
    @apply border-t border-cream-300 my-12;
  }

  /* Subtle highlight for key text */
  .highlight {
    @apply bg-accent-light px-1 rounded;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Animation utilities */
  .animate-on-scroll {
    @apply opacity-0 translate-y-4 transition-all duration-500;
  }

  .animate-on-scroll.visible {
    @apply opacity-100 translate-y-0;
  }
}
